{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/blues/notecard-schema/master/hub.signal.req.notecard.api.json",
    "title": "hub.signal Request Application Programming Interface (API) Schema",
    "description": "Receive a [Signal](/api-reference/glossary/#signal) (a near-real-time note) from Notehub.\n\nThis request checks for an inbound signal from Notehub. If it finds a signal, this request returns the signal's body and deletes the signal. If there are multiple signals to receive, this request reads and deletes signals in FIFO (first in first out) order.",
    "type": "object",
    "version": "0.2.1",
    "apiVersion": "9.1.1",
    "skus": [
        "CELL",
        "CELL+WIFI",
        "WIFI"
    ],
    "properties": {
        "seconds": {
            "description": "The number of seconds to wait before timing out the request.",
            "type": "integer",
            "minApiVersion": "5.1.1"
        },
        "req": {
            "description": "Request for the Notecard (expects response)",
            "const": "hub.signal"
        },
        "cmd": {
            "description": "Command for the Notecard (no response)",
            "const": "hub.signal"
        }
    },
    "oneOf": [
        {
            "required": [
                "req"
            ],
            "properties": {
                "req": {
                    "const": "hub.signal"
                }
            }
        },
        {
            "required": [
                "cmd"
            ],
            "properties": {
                "cmd": {
                    "const": "hub.signal"
                }
            }
        }
    ],
    "additionalProperties": false,
    "annotations": [
        {
            "title": "warning",
            "description": "A Notecard must be in [continuous mode](/api-reference/notecard-api/hub-requests/latest/#hub-set) and have its `sync` argument set to `true` to receive signals."
        },
        {
            "title": "note",
            "description": "See our guide to [Using Inbound Signals](/guides-and-tutorials/notecard-guides/minimizing-latency#using-inbound-signals) for more information on how to set up a host microcontroller or single-board computer to receive inbound signals."
        }
    ],
    "samples": [
        {
            "title": "Receive a Signal",
            "description": "Check for an inbound signal from Notehub.",
            "json": "{\"req\": \"hub.signal\"}"
        },
        {
            "title": "Receive Signal with Timeout",
            "description": "Check for an inbound signal with custom timeout.",
            "json": "{\"req\": \"hub.signal\", \"seconds\": 30}"
        }
    ]
}
