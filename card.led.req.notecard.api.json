{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/blues/notecard-schema/master/card.led.req.notecard.api.json",
    "title": "card.led Request Application Programming Interface (API) Schema",
    "description": "Used along with the [card.aux API](/api-reference/notecard-api/card-requests/latest#card-aux) to turn connected LEDs on/off or to manage a single connected NeoPixel.\n\nIf using monochromatic LEDs, they must be wired according to the instructions provided in the guide on [Using Monitor Mode](/notecard/notecard-walkthrough/working-with-the-notecard-aux-pins#using-monitor-mode). Please note that the use of monochromatic LEDs is not supported by Notecard for LoRa.\n\nIf using NeoPixels, the NeoPixel (or strip of NeoPixels) must be wired according to the instructions provided in the guide on [Using Neo-Monitor Mode](/notecard/notecard-walkthrough/working-with-the-notecard-aux-pins#using-neo-monitor-mode).",
    "type": "object",
    "version": "0.2.1",
    "apiVersion": "9.1.1",
    "minApiVersion": "3.5.1",
    "skus": [
        "CELL",
        "CELL+WIFI",
        "LORA",
        "WIFI"
    ],
    "properties": {
        "mode": {
            "description": "Used to specify the color of the LED to turn on or off. For LEDs, possible values are `\"red\"`, `\"green\"`, and `\"yellow\"`. For NeoPixels, possible values are `\"red\"`, `\"green\"`, `\"blue\"`, `\"yellow\"`, `\"cyan\"`, `\"magenta\"`, `\"orange\"`, `\"white\"`, and `\"gray\"`.",
            "type": "string",
            "sub-descriptions": [
                {
                    "const": "red",
                    "description": "**LEDs:** Used to specify the color of the LED to turn on or off.\n**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "green",
                    "description": "**LEDs:** Used to specify the color of the LED to turn on or off.\n**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "yellow",
                    "description": "**LEDs:** Used to specify the color of the LED to turn on or off.\n**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "blue",
                    "description": "**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "cyan",
                    "description": "**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "magenta",
                    "description": "**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "orange",
                    "description": "**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "white",
                    "description": "**NeoPixels:** Used to specify the color of a single NeoPixel."
                },
                {
                    "const": "gray",
                    "description": "**NeoPixels:** Used to specify the color of a single NeoPixel."
                }
            ],
            "enum": [
                "red",
                "green",
                "yellow",
                "blue",
                "cyan",
                "magenta",
                "orange",
                "white",
                "gray"
            ]
        },
        "on": {
            "description": "Set to `true` to turn the specified LED or NeoPixel on.",
            "type": "boolean"
        },
        "off": {
            "description": "Set to `true` to turn the specified LED or NeoPixel off.",
            "type": "boolean"
        },
        "cmd": {
            "description": "Command for the Notecard (no response)",
            "const": "card.led"
        },
        "req": {
            "description": "Request for the Notecard (expects response)",
            "const": "card.led"
        }
    },
    "oneOf": [
        {
            "required": [
                "req"
            ],
            "properties": {
                "req": {
                    "const": "card.led"
                }
            }
        },
        {
            "required": [
                "cmd"
            ],
            "properties": {
                "cmd": {
                    "const": "card.led"
                }
            }
        }
    ],
    "additionalProperties": false,
    "annotations": [
        {
            "title": "note",
            "description": "The Notecard must first be configured for the appropriate LED type using `card.aux`. For monochromatic LEDs, use `{\"req\": \"card.aux\", \"mode\": \"led\"}`. For NeoPixels, use `{\"req\": \"card.aux\", \"mode\": \"neo\"}`."
        }
    ],
    "samples": [
        {
            "title": "Turn Red LED On",
            "description": "As shown above, the Notecard must also be in `led` mode and the LED(s) wired according to the instructions provided in the guide on [Using Monitor Mode](/notecard/notecard-walkthrough/working-with-the-notecard-aux-pins#using-monitor-mode).",
            "json": "[{\"req\": \"card.aux\", \"mode\": \"led\"},{\"req\": \"card.led\", \"mode\": \"red\", \"on\": true}]"
        },
        {
            "title": "Turn Blue NeoPixel On",
            "description": "As shown above, the Notecard must also be in `neo`, `neo-monitor`, or `track-neo-monitor` mode and the NeoPixel(s) wired according to the instructions provided in the guide on [Using Neo-Monitor Mode](/notecard/notecard-walkthrough/working-with-the-notecard-aux-pins#using-neo-monitor-mode).",
            "json": "[{\"req\": \"card.aux\", \"mode\": \"neo\"},{\"req\": \"card.led\", \"mode\": \"blue\", \"on\": true}]"
        }
    ]
}
