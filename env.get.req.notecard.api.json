{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/blues/notecard-schema/master/env.get.req.notecard.api.json",
    "title": "env.get Request Application Programming Interface (API) Schema",
    "description": "Returns a single environment variable, or all variables according to precedence rules.",
    "type": "object",
    "version": "1.1.2",
    "apiVersion": "9.1.1",
    "skus": [
        "CELL",
        "CELL+WIFI",
        "LORA",
        "WIFI"
    ],
    "properties": {
        "name": {
            "description": "The name of the environment variable (case-insensitive). Omit to return all environment variables known to the Notecard.",
            "type": "string"
        },
        "names": {
            "description": "A list of one or more variables to retrieve, by name (case-insensitive).",
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1,
            "minApiVersion": "3.4.1"
        },
        "time": {
            "description": "Request a modified environment variable or variables from the Notecard, but only if modified after the time provided.",
            "type": "integer",
            "minApiVersion": "3.4.1"
        },
        "req": {
            "description": "Request for the Notecard (expects response)",
            "const": "env.get"
        },
        "cmd": {
            "description": "Command for the Notecard (no response)",
            "const": "env.get"
        }
    },
    "oneOf": [
        {
            "required": [
                "req"
            ],
            "properties": {
                "req": {
                    "const": "env.get"
                }
            }
        },
        {
            "required": [
                "cmd"
            ],
            "properties": {
                "cmd": {
                    "const": "env.get"
                }
            }
        }
    ],
    "additionalProperties": false,
    "annotations": [
        {
            "title": "note",
            "description": "Before using the `env.get` API on Notecard for LoRa or Starnote, you must create an environment variable template using the [env.template API](/api-reference/notecard-api/env-requests/latest#env-template)."
        }
    ],
    "samples": [
        {
            "title": "Get Single Variable",
            "description": "Retrieve a specific environment variable by name.",
            "json": "{\"req\": \"env.get\", \"name\": \"monitor-pump-one\"}"
        },
        {
            "title": "Get Single Variable With Modified Time",
            "description": "Retrieve a variable only if modified after the specified time.",
            "json": "{\"req\": \"env.get\", \"name\": \"monitor-pump-one\", \"time\": 1656315835}"
        },
        {
            "title": "Get Multiple Variables",
            "description": "Retrieve multiple environment variables by name.",
            "json": "{\"req\": \"env.get\", \"names\": [\"monitor-pump-one\", \"monitor-pump-two\"]}"
        },
        {
            "title": "Get All Variables",
            "description": "Retrieve all environment variables known to the Notecard.",
            "json": "{\"req\": \"env.get\"}"
        }
    ]
}
